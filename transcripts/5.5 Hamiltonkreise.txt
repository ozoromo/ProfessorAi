 Zurück zur Vorlesung diskrete Strukturen. Nachdem wir jetzt von Graphen schon ein bisschen was wissen und auch spezielle Graphen wie Bäume oder vollständig verbundene oder bipartite Graphen gesehen haben, können wir jetzt noch ein bisschen tiefer in die ganze Materie der Graphentheorie eintauchen. Im ersten der folgenden vier Abschnitte beschäftigen wir uns mit Hamilton und Euler Kreisen. Ein Hamilton Kreis in einem Graphen ist definiert als ein Kreis, der alle Knoten genau einmal durchläuft. Also ein Kreis im Graphen, also Sie können sich das vorstellen wie eine Art Spannbaum, der deckt auch alle Knoten ab, nur dass es eben kein Baum ist, sondern jetzt ein Kreis. Und genauso ist es, wenn ihr Spannbaum in Fahrt ist, dann ist es ein Hamilton-Fahrt. Okay, einen Graph, der einen Hamilton-Kreis enthält, nennen wir Hamilton. Dazu vielleicht ein kleines geschichtliches Beispiel. Und zwar gab es früher ein Spiel, das hieß Weltreise. Da war einfach auf einem regelmäßigen Dodecaeder, also einem regelmäßigen Zwölfflächler, die Weltkugel drauf abgebildet und man musste quasi alle Städte besuchen, indem man einmal um die Welt reiste und wieder zu Hause ankam. Also genau, wenn wir zwölf Flächen haben, zwölf regelmäßige Fünfflächer haben, dann ergibt es insgesamt 20 Knoten und es sah dann etwa so aus, schematisch dargestellt. Also Sie können sich vorstellen, das ist so eine Art Kugel und die Knoten hier, die waren dann quasi irgendwelche Städte auf der Weltkugel drauf und die Aufgabe war jetzt, man musste eine Rundreise um die Welt gestalten, sodass man jede dieser Städte einmal besucht und wieder zu Hause ankommt. Und das ist genau ein Hamilton-Kreis auf diesem Graphen, der durch diese Einteilung in die zwölf regelmäßigen Fünffecke entsteht. Wenn Sie diesen Graphen einmal in die Ebene ausrollen, dann sieht es aus wie dieser Graph hier. Sie sehen, das Ding besteht aus zwölf Fünffecken, also jede Fläche hier hat fünf angrenzende Punkte und die rote Linie darin beschreibt in einen Hamilton-Kreis. Es gibt aber auch Graphen wie zum Beispiel diesen Patterson-Graph, der hier abgebildet ist, der keinen Hamilton-Kreis enthält. Das können Sie ja gerne mal probieren, wenn Sie ein bisschen Zeit haben, zu versuchen, eine Rundreise darin zu designen, aber das wird nicht funktionieren. Was allerdings geht, ist einen Hamilton-Pfad in diesem Graphen zu finden und wenn Sie wollen, können Sie das Video ja mal kurz pausieren und versuchen, einen Hamilton-Pfad zu finden, aber ich mache Ihnen auch gleich einen ein. Zum Beispiel können Sie einfach irgendwo anfangen, das ist ja relativ symmetrisch. Sagen wir mal, wir gehen hier in die Mitte und gehen über alle Knoten in der Mitte, gehen dann wieder nach außen und können dann noch die anderen beiden Knoten, die außen verbleiben, ablaufen. Dieser Pfad hier, der enthält jetzt alle Knoten des Graphen und ist also quasi ein Spannbaum, der ein Pfad ist. Aber Sie sehen, dass Sie den jetzt nicht schließen könnten, weil einfach diese Kante dazu fehlt. Hamilton-Kreise sind eng verwandt mit TSP-Routen. TSP steht für Travelling Sales Person. Das Problem des Handlungsreisenden oder der Handlungsreisenden, wo es darum geht, dass ein Handlungsreisender alle Städte besuchen möchte, um dort Handel zu treiben und er möchte aber so wenig wie möglich Kilometer zurücklegen, weil das Reisen anstrengend ist und kostet. Insbesondere ist aber bei Szenarien für das Handlungsreisenden-Problem häufig sind die Kanten mit Gewichten versehen, weil es vielleicht länger dauert, von einer Stadt zur anderen zu kommen, als von der anderen zur dritten. Also die Distanzen zwischen den Städten sind im Allgemeinen unterschiedlich und dann müsste man diese Kanten in den Graphen gewichten. Und dann ist natürlich gesucht eine Rundreise mit der kleinsten Summe an Kantengewichten, die trotzdem immer noch alle Punkte besucht, bzw. alle Knoten besucht. Ein weiterführender Hinweis zum TSP- beziehungsweise zum Hamilton-Kreis-Problem ist, dass das Finden von Hamilton-Kreisen ein schweres algorithmisches Problem ist. Das heißt, es gibt keinen bekannten effizienten Algorithmus dafür. Genauer gesagt ist das Entscheidungsproblem dazu, also wenn ich Ihnen einen Graphen gebe und Sie frage, hat dieses Ding einen Hamilton-Kreis? Diese Frage zu beantworten ist NP-vollständig. Also es gibt keinen bekannten effizienten Algorithmus. Das Beste, was man weiß, wäre exponentiell viele Möglichkeiten durchzuprobieren. Wenn Sie das näher interessiert, NP-Vollständigkeit und Komplexität von Algorithmen, dann kommen Sie gerne in unsere Vorlesungen Berechenbarkeit und Komplexität, die vom Lehrstück angeboten wird. Da sprechen wir mehr über dieses Phänomen. Es gibt allerdings Familien von Graphen, für die kann man leicht sagen, ob sie einen Hamilton-Kreis enthalten oder nicht. Unter anderem definiert der Satz von Oré einige davon. Er sagt nämlich, dass wenn wir einen Graph G haben mit Knoten V und Kanten E und es so ist, dass für alle verschiedenen Knoten X und Y, die keine Kante zwischen sich haben, gilt, dass die Summe ihrer Grade sind größer gleich der Anzahl von Knoten überhaupt im Graphen, dann enthält der Graph G einen Hamilton-Kreis. Also nochmal vielleicht auch der Zunge zergehen lassen. Wir haben hier unseren Graphen G. Für alle Knoten, egal wie ich X und Y wähle, solange die keine Kante dazwischen haben, gilt, dass die Summe der Knotengrade relativ hoch ist. Und relativ hoch bedeutet halt größer gleich der Anzahl Knoten überhaupt. Und dann behauptet dieser Satz, dass G einen Hamilton-Kreis enthält. Schauen wir uns den Beweis dazu mal an. Das ist ein Widerspruchsbeweis. Also wir nehmen uns einen Graphen her, der diese Eigenschaft erfüllt und nehmen an, er hätte keinen Hamilton-Kreis. Unter allen Graphen, bei denen das der Fall ist, wählen wir uns einen so aus, der die Anzahl Kanten maximiert. Also unter allen Graphen, die die Eigenschaft erfüllen, aber keinen Hamilton-Kreis haben, nehmen wir uns einen solchen her, der die meisten Kanten hat. Erstmal können wir feststellen, dass der Graph, den wir uns hier genommen haben, dass das kein Kn ist, bzw. er ist nicht isomorph zu Kn. Sie erinnern sich, Kn ist der Graph, der auf N Knoten, der alle Kanten enthält. Das kann nicht sein, weil der Graph auf N Knoten, der alle Kanten enthält, hat einen Hamilton-Kreis. Wir haben uns aber G so gewählt, dass G ein Gegenbeispiel ist, also keinen Hamilton-Kreis enthält. Okay, jetzt da G aber nicht isomorph ist zum vollständig verbundenen Kreis, heißt es, dass G zwei Knoten hat, die nicht mit einer Kante verbunden sind. Jetzt basteln wir uns einen neuen Graphen, indem wir diese Kante, die es nicht gibt in G, einfach dazu werfen. Also G' ist VE, aber wir nehmen die neue, also diese Kante XY mit hinzu, die gab es vorher noch nicht. Da G' jetzt echt mehr Kanten enthält als G und G ein Gegenbeispiel war, das am meisten Kanten enthielt, wissen wir, dass G' kein Gegenbeispiel ist für den Satz. Außerdem erfüllt G' die Bedingung hier, dass für alle XY, zwischen denen es keine Kante gibt, die Knoten gerade größer gleich sind als V. Das liegt einfach daran, dass G schon die Bedingung erfüllt hat. Und wir haben jetzt nur die Knoten gerade erhöht, indem wir eine Kante hinzugenommen haben, beziehungsweise wir haben die Knoten, für die das gelten muss, verringert. Also die Eigenschaft muss für weniger Knoten gelten. Das heißt, da sie vorher gegolten hat und jetzt für weniger Knoten gelten muss, heißt es, dass jetzt die Eigenschaft immer noch gilt. Also in unserem G', haben wir immer noch, dass diese Bedingung, die ich hier unterstreiche, für alle verschiedenen, dass die immer noch erfüllt ist. Wie gesagt, ist G' aber kein Gegenbeispiel wegen der Maximalität von E. Also können wir schlussfolgern, dass der Satz gilt für G', also enthält G' einen Hamilton-Kreis und den nennen wir C. Wenn jetzt dieser Hamilton-Kreis die Kante XY nicht enthält, dann existiert der Hamilton-Kreis auch in G, weil G ist einfach nur das Resultat, was rauskommt, wenn wir von G' die Kante XY entfernen. Also der Hamilton-Kreis enthält die Kante XY, also können wir sagen, da es ein Kreis ist, können wir die Knoten hier zyklisch verschieben. Also können wir auch einfach sagen, die Kante XY hier ist die letzte Kante im Kreis. Und die Länge des Kreises ist natürlich n, also das ist ein Hamilton-Kreis, also besucht er jeden Knoten genau einmal. Das heißt, seine Länge ist genau die Anzahl Knoten im Graphen und das ist n. Und diese Knoten auf dem Hamilton-Kreis in G' sind jetzt in G benachbart zu x oder zu y, oder zu beiden oder zu keinem, je nachdem. Das heißt, die können wir einteilen in eine Menge K von Knoten, die zu keinem von beiden in G benachbart sind. Wir bemerken hier unten, da steht immer das G dran, das heißt, das ist die Nachbarschaft in G, nicht in G'. Das heißt, in G existiert diese Kante zwischen x und y nicht. Okay, also nochmal, wir haben jetzt diese Menge K aller Knoten in G, die nicht benachbart sind zu x und nicht zu y benachbart sind, also zu keinem von beiden, deswegen K. Und dann haben wir hier die Menge B der Knoten, die zu beiden benachbart sind in G. Und wir bemerken, dass actually x und y sind beide in K. Also x und y sind in G weder zu sich selbst noch zu dem jeweils anderen benachbart. Das liegt einfach daran, dass diese Kante hier, wie gesagt, zwischen x und y nicht existiert in G und in dem Graphen sind keine Schleifen drin. Also das soll ein einfacher Graph sein, sollte man vielleicht dazu schreiben. Aber normalerweise sind einfach alle Graphen einfach, es sei denn, wir sagen es dazu. Okay, also wir haben jetzt also die Knoten hier eingeteilt in K, die Nachbarn von keinem der beiden sind, B Nachbarn von beiden und dann gibt es auch noch Knoten, die zu genau einem von beiden benachbart sind. Laut Voraussetzung haben wir aber hier, dass der Grad von x in G plus der Grad von y in G größer gleich der Anzahl Knoten sein soll. Also ich habe hier mal den Grad anders geschrieben als die Anzahl Knoten in der Nachbarschaft. Und hier auch. Die Summe ist also größer gleich V. Und das heißt aber, dass die Vereinigung der Nachbarschaften plus der Schnitt der Nachbarschaften größer gleich V ist. Warum gilt hier dieses Ist-Gleich? Na, sagen wir mal, das hier sind die beiden Mengen, X und Y. Dann ist X plus Y, wenn ich die Elemente dieser beiden Mengen zähle, das ist das gleiche wie, also okay, ich habe jetzt hier die gezählt, die schwarzen und ich habe die grünen gezählt. Insbesondere fällt Ihnen auf, dass ich dann diese Mitte hier doppelt gezählt habe. Also das ist dasselbe wie, ich zähle die Vereinigung. Jetzt habe ich aber hier in der Mitte nur einfach gezählt, deswegen muss ich die auch nochmal hinzufügen. So, und deswegen gilt hier diese Gleichheit. Jetzt können wir aber feststellen, dass das hier ist dasselbe wie V minus K. Das ist, weil wir K definiert hatten als alle Knoten, außer die zu einem der beiden benachbart sind. Und das hier ist dasselbe wie B. Das heißt, hier steht die Anzahl Knoten ist kleiner gleich Anzahl Knoten minus K plus B. Das heißt, wir können das ein bisschen umstellen, dann kommt raus, dass die Anzahl Knoten, die zu Keimen von X und Y benachbart sind, kleiner gleich die Anzahl der Knoten ist, die zu beiden benachbart sind. Und jetzt können wir bemerken, da X und Y, die sind schon beide in K. Und auf dem Rest hier müssen wir unsere Bs und unsere Ks noch platzieren. Aber wir wissen, dass es mehr Bs gibt, als es Ks gibt. Das heißt, es ist unmöglich, auf diesem Kreis hier so die Bs und die Ks zu platzieren, dass nach jedem B immer ein K folgt. Wir haben einfach nicht genug Ks dafür. Wir haben schon zwei verbraucht hier für X und Y. Und insgesamt gibt es mehr Bs, also größer gleich als Ks. Es muss also irgendwo auf dem Kreis eine Kante, da ist sie ja schon, eine Kante Vi, Vi plus 1 geben, sodass Vi in W ist und Vi plus 1 nicht in K ist. Also mit anderen Worten, Vi ist zu beiden Knoten X und Y benachbart und Vi plus 1 ist zu einem von beiden benachbart. Ohne Beschränkung der Allgemeinheit können wir sagen, dass dieser eine Knoten X ist. Also sagen wir mal, Vi plus 1 ist also mit X benachbart. Und dann ist aber jetzt die Idee, dass wir diesen Hamilton-Kreis, den wir hatten, aber der jetzt in G nicht existiert, weil halt, wie gesagt, diese Kante zwischen X und Y existiert nicht, den können wir jetzt umbauen zu einem neuen Hamilton-Kreis. Nämlich, der geht hier rum zu X, dann runter zu Vi plus 1, dann zu Y und von Y aus zu Vi. Und das ist jetzt ein Hamilton-Kreis in G. Also nochmal langsam, ohne Beschränkung der Allgemeinheit haben wir, dass i plus 1 mit X benachbart ist. Also können wir in unserem Hamilton-Kreis, der ja für G' ein Hamilton-Kreis ist, aber nicht für G, können wir jetzt die Kanten XY und VI, VI plus 1 ersetzen durch X, VI plus 1 und Y, VI. Die gibt es, weil VI zu X und Y benachbart ist und VI plus 1 zu einem von beiden, nämlich zu X benachbart ist. Und damit haben wir jetzt einen Hamilton-Kreis in G konstruiert. Weil der einzige Unterschied zwischen G und G' ist die Kante XY. Die Kante XY kommt jetzt in C nicht mehr vor, aber C ist halt auch ein Hamilton-Kreis, also existiert dieser neue Kreis, der aus C entstanden ist, durch die Ersetzung, der existiert jetzt auch in G. Wir bemerken, dass obwohl dieser Satz erst mal nur sagt, G enthält einen Hamilton-Kreis, aber nicht sagt, wie der aufzubauen ist, können wir anhand des Beweises feststellen, wie wir einen Hamilton-Kreis in G konstruieren können. Dazu fangen wir einfach an mit irgendeinem Hamilton-Kreis im vollständigen Graphen. Der so groß ist wie G selbst, also die Anzahl Noten. Ist dieselbe wie in G. Und dann entfernen wir sukzessive alle Kanten in diesem Graphen, den wir genommen haben, die nicht zu G gehören. Und sobald wir eine Kante rausgenommen haben, die in unserem Hamilton-Kreis C drin ist, müssen wir den Hamilton-Kreis umbauen zu einem neuen Hamilton-Kreis auf die Art und Weise, wie wir es im Beweis gesehen haben. Ein Spezialfall des Satzes von Euler ist der Satz von Dirac. Der sagt, dass wenn ich einen Graphen G habe, mit mindestens drei Knoten, sodass jeder Knoten in diesem Graph G mindestens 1,5 Knoten halbe Nachbarn hat, dann gibt es in dem Graphen auch einen Hamilton-Kreis. Es ist relativ flink zu sehen, dass diese Bedingung im Satz von Dirac die echt stärkere Bedingung ist. Also wenn jeder Knoten mindestens die Hälfte der Knoten als Nachbarn hat, dann gilt auch, dass für irgendeine zwei Knoten X und Y die Summe deren Grade größer gleich V ist. Zum Beispiel, wenn Sie einen Graphen mit drei Knoten haben, dann soll jeder Knoten mindestens drei halbe Nachbarn haben. Da es keine halben Nachbarn gibt, muss also jeder zwei Nachbarn haben. Dann bleibt Ihnen nichts anderes übrig, als diesen Kreis zu konstruieren. Dasselbe mit vier Knoten. Denn vier halbe sind zwei, also jeder soll gerade mindestens zwei haben. Also entsteht so ein Kreis. Und genauso ist es natürlich möglich, wenn ich noch mehr Kanten in meinem Graphen habe. Ich will dazu noch eine abschließende Bemerkung. Und zwar ist zu bemerken, dass dieser Satz von Ole nur für einige Graphen zeigt, dass sie einen Hamilton-Kreis hat. Es kann aber durchaus noch viel mehr Graphen geben, die Hamilton-Kreise haben. Zum Beispiel haben wir hier C5. Also in C5, das ist der Kreis mit fünf Knoten. In diesem Graphen ist die Bedingung hier nicht erfüllt, vom Satz von Ole. Aber der Graph enthält natürlich einen Hamilton-Kreis. Eine der Anwendungen von Hamilton-Kreisen ist der sogenannte Gray-Code. Das kann man wie folgt motivieren. Sagen wir mal, wir haben eine Anzeige-Kreisscheibe. Und darin gibt es zwei hoch N-Segmente, die jeweils identifiziert sind mit einer 0,1 Zeichenkette der Länge N. Wir wollen jetzt bestimmen, in welchem Segment wir aktuell sind mit unserem Zeiger. Was wir dazu machen könnten, wäre, auf unserem Zeiger drei Kontakte zu montieren. Der Zeiger geht im Kreis über die Scheibe. Und der kann z.B. einen Strom abnehmen. Wenn in dem Segment auf der Höhe des Kontaktes eine Schiene ist, die Strom führt. Also könnten Sie sich vorstellen, in jedem dieser Segmente gibt es Stromführende Schienen. Je nachdem, in welchem Segment wir aktuell sind. Z.B. hier im Segment 1.1.1 gibt es drei Schienen. Wenn unser Zeiger da drin ist, kriegen wir alle drei Kontakte von dem. Wenn unser Zeiger aber hier im Segment 1.1.0 ist, dann würde er nur die oberen beiden Kontakte sehen. Und das untere nicht. Damit könnte der Zeiger feststellen, in welchem der Segment er aktuell ist. Das kann aber Probleme bereiten. Wenn nämlich unser Zeiger an der Grenze zwischen zwei Flächen ist, dann könnte es ihn ein bisschen verwirren. Also z.B. wenn der Zeiger an dieser Grenze ist, zwischen dem Segment, was nur die unterste Schiene hat, und dem Segment, was die mittelste Schiene hat, dann könnte es sein, je nachdem wie dick das hier so ist, dass er an einem gewissen Zeitpunkt denkt, er wäre in dem Segment, was die unterste und die mittlere Schiene hat. Also er könnte fälschlicherweise denken, er wäre in diesem Segment hier. Oder wenn der Zeiger gerade hier, zwischen diesen beiden, Segmenten ist, dann könnte er fälschlicherweise denken, er wäre in diesem oberen Segment hier. Also das kann schon sehr stark anders aussehen. Was der Zeiger denkt, wo er ist, kann sich sehr stark unterscheiden von dem, wo er eigentlich ist. Was besser wäre, wäre wenn unsere Flächenbezeichnungen hier so angeordnet wären, dass immer beim Übergang von einem Segment zum nächsten sich immer nur genau ein Bit ändert. Also dass benachbarte Flächen ähnliche 0,1 Zeichenketten hätten. Und genau das macht der Gray Code, benannt nach Frank Gray. Das ist quasi ein linearer Code, so dass zwei aufeinanderfolgende Code-Wörter die 0,1 Zeichenketten sind, sich nur in genau einem Bit unterscheiden. Und das kann man finden, so ein Code, der alle Code-Wörter benutzt, aber diese Eigenschaft hat, indem man einen Hamilton-Kreis in n-dimensionalen Hyperwürfel findet. Also zum Beispiel für n gleich 3 haben wir hier den 3-dimensionalen Hyperwürfel und in grün hier ist ein Hamilton-Kreis in dem Hyperwürfel angegeben. Und jetzt können wir mal gucken, wie sieht das jetzt hier aus. Also fangen wir mal irgendwo an, 0,0,0. Das haben wir jetzt einfach auf dem Feld mit 0,0,0 zugewiesen. Dann ist entlang dieses Hamilton-Kreises gehen wir einfach mal in eine Richtung los. Dann steht hier als nächstes 0,0,1 also geben wir 0,0,1 als nächstes Code-Wort diesem Segment hier. Sie sehen, wir müssen quasi einfach nur eine Schiene hinzufügen, eine Kontaktschiene. Und ok, als nächstes wenn wir hier entlang gehen entlang dieses Hamilton-Kreises kommt als nächstes 0,1,1 das ist hier, das heißt da bleibt uns die untere Schiene erhalten und wir nehmen eine neue Schiene hinzu. Und jetzt kann hier an dieser Grenze kann dieser Zeiger sich nicht mehr stark irren. Egal wie er hier den Kontakt abnimmt entweder denkt er halt, er wäre noch im ersten Segment oder er denkt, er wäre im zweiten Segment aber er wird niemals denken, dass er ganz auf der anderen Seite der Scheibe wäre. Also können wir mal gucken, wie geht es weiter. Das nächste ist 0,1,0 Da hört jetzt einfach die erste Schiene auf aber die zweite geht weiter. Dann geht es weiter mit hier lang, 1,1,0 das ist hier die nächste Da halten wir die mittlere Schiene aber wir kriegen noch die äußere Schiene dazu. Dann geht es als nächstes 1,1,1 hier da sind jetzt alle drei Schienen vorhanden. Und okay, wie geht es weiter? Der Hamilton Kreis geht jetzt hier nach unten nachdem man da hochgegangen ist. Das heißt, wir sind bei 1,0,1 das heißt, die mittlere Schiene hört auch hier. Und dann haben wir als letztes noch 1,0,0 bevor es wieder zu 0,0,0 zurückgeht. Also 1,0,0 hier Da hört auch die untere Schiene auf und wir haben nur noch die äußere. So und jetzt ist es so, dass der Zeiger an Grenzen zwischen zwei Flächen sich nicht mehr großirren kann. Er kann nur noch unschlüssig sein zwischen der linken und der rechten der beiden Flächen, aber er kann nicht mehr denken, dass er irgendwo ganz woanders ist.