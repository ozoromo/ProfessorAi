 Als nächstes reden wir noch ein bisschen über Spannbäume bzw. aufspannende Bäume. Was ist das überhaupt? Wir haben einen Graphen G mit Knoten V, Kanten E und wir haben einen Teilgraphen T. Der umfasst auch, also der ist ein Graph der selben Knotenmenge, aber seine Kanten E, T sind eine Teilmenge von E. Also T entsteht, indem ich ein paar Kanten von G möglicherweise wegnehme. Wenn das Ding ein Baum ist, dann heißt das T Spannbaum von G bzw. aufspannender Baum von G. Also im Englischen nennt man das einen Spanning Tree. Zum Beispiel, wenn das hier mein Graph G ist mit der Knotenmenge ABCDEFG und der Kantenmenge ABAEBFCDCFGC, was habe ich jetzt vergessen? Das ist also der Graph hier links auf der linken Seite und wenn ich da jetzt Kanten rauswerfe, so lange bis ein Baum rauskommt, dann ist das was ich da am Ende habe ein Spannbaum von G. Also zum Beispiel, ich könnte hier diese Kante EF rauswerfen, weil die in einem Kreis liegt, gefällt denen hier nicht. Also eine von den Kanten in jedem Kreis sollte rausgeschmissen werden, weil ich sonst nicht zu einem Baum kommen kann. So hier ist jetzt immer noch ein Kreis, also werfe ich noch die hier raus. Und jetzt habe ich immer noch diesen Kreis CGF, da kann ich auch wieder eine rauswerfen, zum Beispiel CG. So, jetzt habe ich hier aus dem Graphen G ein paar Kanten rausgeworfen, so dass keine Kreise mehr da sind. Und das was ich hier also erhalte am Ende, das ist ein Spannbaum von G. Insbesondere ist es genau der Spannbaum, den ich hier in der Mitte habe. Und natürlich hatte ich eine Kante vergessen, nämlich FG, aber gut sei es drum. Okay, so haben wir jetzt also diesen mittleren Spannbaum gekriegt. Ich mache mal die Kanten wieder rein hier. Okay. Und wir können uns auch auf eine andere Weise entscheiden, Kanten rauszulöschen aus dem Graphen und kommen auf diesen rechten Baum hier. Zum Beispiel, wir löschen hier diese Kante AB, die in einem Kreis ist, mögen wir nicht. Dann können wir löschen EG, ist auch in einem Kreis. So. Und dann aus dem Kreis hier CFG löschen wir hier diese Kante C. Und dann kommen wir auch zu einem anderen Spannbaum. Das ist immer noch ein Spannbaum, weil er immer noch dieselben Knoten enthält und wir nur Kanten gelöscht haben. Das heißt, Kantenmenge ist eine Teilmenge der ursprünglichen Kantenmenge. Und das ist jetzt hier der rechte Baum. Durch die Konstruktion, die wir gerade verwendet haben, indem wir einfach den Graphen genommen haben und so ein paar Kanten gelöscht haben, die jeweils in so Zügeln drin waren, merken Sie schon, dass jeder Graph so einen Spannbaum hat. Aber das wollen wir auch nochmal formal zeigen als nächstes. Dazu können wir zuerst mal beobachten bzw. beweisen, dass wenn wir einen zusammenhängenden Graphen G haben und in dem Graphen G gibt es einen Kreis C. Also meinetwegen vielleicht so. Irgendwie in ihrem Graphen G drin. Und wir haben da eine Kante UV drin, die heißt E. Also vom Knoten U bzw. zwischen den Knoten U und V. Dann ist das Resultat der Löschung dieser Kante immer noch zusammenhängt. Und das Resultat der Löschung dieser Kante aus G nennen wir GE. Wir können das per Widerspruch beweisen, indem wir annehmen, dass GE nicht zusammenhängend ist. Also GE zerfällt in zwei Zusammenhangskomponenten hier. Also mindestens zwei, es könnten noch mehr sein. Und der Knoten U und V sind in verschiedenen Zusammenhangskomponenten von GE. Denn die beiden Zusammenhangskomponenten sind dadurch entstanden, dass wir diese Kante zwischen U und V gelöscht haben. Nicht wahr? Vorher war GE zusammenhängend. Okay, dann da E aber im Kreis drin ist, also nochmal. U und V ist die Kante dazwischen. Aber die Kante ist in diesem Kreis C drin gewesen. Das heißt aber, wenn man aus dem Kreis C die Kante E entfernt, enthält der Graph immer noch einen U-V-Pfad. Also ein Pfad zwischen U und V. Dieser Pfad enthält E nicht. Das heißt, nach Löschung von E gibt es immer noch diesen Pfad U-V. Das heißt aber, dass U-V in GE existiert. Und das heißt, dass U und V immer noch verbunden sind. Und es widerspricht der Annahme, dass es mindestens zwei Zusammenhangskomponenten gibt. Der nächste Satz ist die Umkehrung von dem Satz, den wir schon mal hatten. Wir hatten, dass wenn G in den Baum ist, dann ist G zusammenhängend und die Anzahl Kanten in G ist 1 kleiner als die Anzahl Knoten. Und jetzt zeigen wir, dass die Umkehrung auch gilt. Also wenn G zusammenhängt ist und die Anzahl Knoten minus 1, dann ist G in den Baum. Sie sehen, der Beweis wird nicht so lang. Wir nehmen nämlich als Widerspruchsannahme an, dass G kein Baum ist. Also wir nehmen an, G ist ein Baum, stimmt nicht. Also mit anderen Worten, G ist entweder nicht zusammenhängend oder enthält Kreise. Da wir aber wissen, dass G zusammenhängt ist, heißt das, dass G in den Kreis C enthalten muss. Und wir sagen mal, da gibt es irgendeine Kante E drin. Dann gilt jetzt aber mit diesem Lämmer hier oben, dass wenn wir die Kante E rausnehmen aus dem Graphen, dann bleibt der Graph, der übrig bleibt, zusammenhängend. Aber wir wissen, wenn Sie sich daran erinnern, dass für zusammenhängende Graphen gilt, dass sie mindestens Anzahl Knoten minus 1 viele Kanten haben. Also dieser Graph hier, der entsteht, indem wir E rausnehmen aus G. Für den gilt E Strich größer gleich V minus 1. So, wir wissen aber, da E gleich V minus 1, können wir diese Gleichheit schreiben. Das heißt aber, hier steht E Strich, was aus E entsteht, indem wir eine Kante rausnehmen, ist größer gleich E. Also E Strich enthält mindestens so viel wie E, aber wir wissen, dass wir, um E Strich zu erhalten, irgendwas rausgenommen haben aus E. Das kann also nicht sein, also gibt es hier einen Widerspruch. Und das bringt uns schlussendlich zu dem Satz, wo wir hinwollten, nämlich wir zeigen, dass jeder zusammenhängende Graph einen Spannbaum enthält. Das beweisen wir per Induktion über die Anzahl Kanten in dem Graphen. Und zwar können wir erstmal beobachten, dass da G zusammenhängt, wie wir gerade eben schon mal benutzt haben, die Anzahl Kanten in G, mindestens die Anzahl Knoten in G minus 1 ist. So, dann können wir anfangen mit unserer Induktion. Also für den Induktionsanfang nimmt E den kleinstmöglichen Wert an, nämlich gleich V minus 1. Wir wissen ja, dass E mindestens V minus 1 annehmen muss. Also im Induktionsanfang nimmt E den kleinsten der möglichen Werte an, nämlich gleich V minus 1. Und jetzt wissen wir aus dem vorhergehenden Satz hier, dass G dann selbst ein Baum ist. Also G selbst ist sein eigener Spannbaum. Entschuldigung, das ist natürlich nicht der Satz, den ich meine, sondern dieser hier. Das bringt uns zum Induktionsschritt. Nämlich im Induktionsschritt ist E echt größer als V minus 1. Also nimmt irgendwie einen echt größeren Wert an. Dann wissen wir auch nach diesem Satz hier, Moment, nee, dann wissen wir nach der anderen Richtung hier dieses Satzes, dass wenn G ein Baum ist, dann gilt es. Da das nicht gilt, kann G kein Baum sein. Okay, G ist also kein Baum, G ist aber zusammenhängend, also enthält G irgendeinen Kreis C. Das heißt aber nach dem Lemma hier oben, wenn wir einen Kreis C haben, dann enthält C irgendeine Kante, die ich rauswerfen kann und trotzdem noch zusammenhängend bleibe. Also wenn wir jetzt hier einen Graphen G' bilden, in dem wir eine Kante aus dem Kreis C rausschmeißen, das hier, dann bleiben wir zusammenhängend, also G' ist zusammenhängend, also können wir auf G' unsere Induktionsvoraussetzung anwenden, denn G' hat echt weniger Kanten als G. Also Induktionsvoraussetzung angewandt, heißt, dass G' einen Spannbaum enthält. Und naja, sagen wir mal, der SV, der umfasst alle Knoten von G und umfasst die Kanten ET. Und das ist ein Spannbaum von G' und das ist auch ein Spannbaum von G, da es ja ein Baum ist und ET ist eine Teilmenge von E, also Groß E ohne E, das ist die Kantenmenge von G'. Und naja, gut, G', also V und ET, das ist ein Spannbaum von G', also muss die Kantenmenge des Spannbaums, muss eine Teilmenge der Kantenmenge von G' sein und das ist natürlich eine Teilmenge von E. Also ist V ET auch ein Spannbaum von G. Und Sie merken jetzt so ein bisschen, fühlen sich erinnert an das, was wir vorhin gemacht haben, nämlich wir nehmen uns irgendeine Kante aus einem Kreis her und die schmeißen wir raus. Und das machen wir halt so lange, bis wir irgendwann einen Baum übrig haben und das ist dann unser Spannbaum. Okay, zum Ende des Abschnitts zeigen wir noch einen kleinen, aber feinen Satz darüber, wie sich Spannbäume ineinander überführen lassen, nämlich wenn wir einen Graphen G haben, der zusammenhängt ist und der hat zwei Spannbäume T1 und T2 und wir nehmen irgendeine Kante vom einen Spannbaum, die nicht im anderen Spannbaum ist. Dann sagt hier dieser Satz, dann hat auch der andere Spannbaum eine Kante, die nicht im einen Spannbaum ist, so dass ich aus dem T1 die erste Kante rausnehmen kann und die zweite Kante hinzufügen kann und dadurch wieder ein Spannbaum entsteht. Also vielleicht ein Beispiel hier. Sagen wir mal, das ist unser T1 hier. Achso, und das hier ist unser T2 hier rechts. Dann hat T1 diese rote Kante hier, die nicht in T2 vorkommt und T2 hat diese grüne Kante, die nicht in T1 vorkommt. Dann sagt der Satz jetzt, wirft die rote Kante raus und nimmt die grüne Kante rein. Das Resultat sehen Sie hier. Und der Satz sagt, dann ist das hier, was da rauskommt, auch wieder ein Spannbaum. Dieser neue Spannbaum T, den wir hier bekommen, der muss nicht unbedingt gleich sein zu T1 oder T2, der kann ein komplett anderer Spannbaum sein, insbesondere in diesem Beispiel. Hier sehen Sie das ja. Für den Beweis schauen wir uns mal an, was passiert, wenn wir E aus T1 entfernen. Machen wir mal, Kante E rauswerfen hier. So. Dann zerfällt unser T1 in zwei Bäume S1 und Q1. Sie erinnern sich, dass ich meinte, Sie können analog zeigen zu dem Satz, den wir haben, dass wenn wir aus einem Baum eine Kante rausnehmen, dass dann zwei Bäume rauskommen. Und die nehmen wir halt S1 und Q1. Also in diesem Fall hätten wir hier S1 und dann hier Q1. Also diese beiden Bäume haben wir. Die resultieren halt vom Rausschmeißen der Kante E aus T1. Und jetzt können wir uns auch in, vielleicht mache ich es nochmal ein, jetzt können wir uns in T2 angucken, diese beiden, die Knotenmengen von S1 und von Q1. Also Q1 und S1. Und dann stellen wir fest, dass da T2 zusammenhängt ist, das ist ein Baum, muss T2 auch mindestens eine Kante zwischen S1 und Q1 enthalten. Es könnte sein, dass es zwei Kanten gibt dazwischen, also zum Beispiel, wenn es jetzt diese Kante hier nicht geben würde, aber dafür diese Kante, dann könnten sie auch mehr als eine Kante zwischen S1 und Q1 haben, aber mindestens eine muss es geben, weil sonst T2 nicht verbunden ist. Also T2 ist zusammenhängt, also hat es eine Kante E' mit einem Endknoten in S1 und einem Endknoten in Q1. Das heißt aber, dass wir durch das Einfügen von E' in dem Resultat des Löschens von E jetzt wieder S1 und Q1, also die Knotenmengen von S1 und die Knotenmengen von Q1, wieder verbunden haben. Das heißt also, und da müsste ich eigentlich Klammern setzen, das heißt, dieser neue Graph T, der entsteht durch Rausnehmen von E und Einfügen von E' ist zusammenhängt. Und da wir genau eine Kante rausgenommen haben und eine wieder reingenommen haben, hat das Ding immer noch V-1 Kanten und ist deswegen auch immer noch ein Baum, also ein Spannbaum. Also es ist immer noch ein Baum und die Kante E' hier, die kommt ja aus einem Spannbaum, also muss die auch in G gewesen sein. Spannbäume enthalten nur Kanten, die auch im Ursprungsgrafen drin sind. Das heißt, es ist immer noch so, dass alle Kanten in T hier, sind auch immer noch Kanten aus G. Okay, also T ist zusammenhängt, hat gleich viele Kanten wie dieser Baum T1, ist also auch ein Baum und ist ein Spannbaum, weil immer noch alle Kanten von T auch in G vorkommen.